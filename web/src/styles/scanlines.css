@layer base {
  /* CRT scanlines softly blended */
  .theme-crt body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      color-mix(in srgb, var(--primary) 3.5%, transparent) 2px,
      color-mix(in srgb, var(--primary) 3.5%, transparent) 4px
    );
    mix-blend-mode: soft-light;
    pointer-events: none;
    z-index: 1000;
  }

  /* vignette/noise overlay */
  .theme-crt body::after {
    content: '';
    position: fixed;
    inset: -1px;
    pointer-events: none;
    z-index: 1001;
    background-image:
      radial-gradient(
        80% 60% at 50% 50%,
        color-mix(in srgb, var(--primary) 7%, transparent),
        transparent 70%
      ),
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='1.4' numOctaves='1' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='.035'/></svg>");
    background-size:
      cover,
      140px 140px;
  }
}
